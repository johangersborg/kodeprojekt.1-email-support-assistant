const inbox = [
  {
    id: 1,
    from: "customer1@mail.com",
    subject: "Where is my order?",
    message: "Hi, I ordered last week but haven't received anything.",
    status: "open"
  },
  {
    id: 2,
    from: "customer2@mail.com",
    subject: "Refund request",
    message: "I want to return my shoes.",
    status: "open"
  }
];
function classifyEmail(email) {
  const msg = email.message.toLowerCase();

  if (msg.includes("refund") || msg.includes("return")) {
    return "refund";
  }

  if (msg.includes("order") || msg.includes("shipping") || msg.includes("delivered")) {
    return "shipping";
  }

  if (msg.includes("price") || msg.includes("cost")) {
    return "pricing";
  }

  return "general";
}
function generateReply(category) {
  if (category === "refund") {
    return "We can help you with your refund. Please send your order number.";
  }
function runSupportSystem() {
  console.log("=== Running Support System ===");

  inbox.forEach(email => {
    console.log("\nProcessing email ID:", email.id);
    handleEmail(email);
  });

  console.log("\n=== Inbox Stats ===");
  console.log(getStats(inbox));
}

  if (category === "shipping") {
    return "Your order is on the way. Shipping usually takes 3-5 business days.";
  }

  if (category === "pricing") {
    return "You can find all pricing information on our website.";
  }

  return "Thank you for your message. We will get back to you shortly.";
}
function handleEmail(email) {
  const category = classifyEmail(email);
  const reply = generateReply(category);

  console.log("Incoming email:", email.message);
  console.log("Category:", category);
  console.log("Reply:", reply);

  return reply;
}
function resolveEmail(inbox, id) {
  const email = inbox.find(e => e.id === id);

  if (email) {
    email.status = "resolved";
  }
}
function getStats(inbox) {
  return {
    total: inbox.length,
    open: inbox.filter(e => e.status === "open").length,
    resolved: inbox.filter(e => e.status === "resolved").length
  };
}
